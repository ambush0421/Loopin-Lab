# Design: 부동산 의사결정 지원 솔루션 (Building Report Pro)

## 1. UI/UX 설계 (Mockup)

### 1.1 대시보드 레이아웃 (Dashboard Layout)
A4 1페이지에 모든 핵심 정보가 들어오도록 **3단 그리드 레이아웃**을 채택합니다.

```
┌────────────────────────────────────────────────────────────────────────────┐
│ [Sidebar: History] │ [Main Header: 주소 및 건물명]            [Action: 저장/PDF] │
├────────────────────┼───────────────────────────────────────────────────────┤
│ - 물건 A (서울 중구) │ ┌───────────────────────────────────────────────────┐ │
│ - 물건 B (강남구)   │ │ [Section 1: 핵심 투자 지표 (Top Metrics)]           │ │
│ - 물건 C (마포구)   │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ │ │
│                    │ │ │ 평단가    │ │ 예상ROI  │ │ 연수익률  │ │ 위반여부  │ │ │
│                    │ │ └──────────┘ └──────────┘ └──────────┘ └──────────┘ │ │
│                    │ └───────────────────────────────────────────────────┘ │
│                    │ ┌─────────────────────────┐ ┌─────────────────────────┐ │
│                    │ │ [Section 2: 위치 및 시세]  │ │ [Section 3: 수익성 분석]  │ │
│                    │ │ ┌─────────────────────┐ │ │ ┌─────────────────────┐ │ │
│                    │ │ │ [Map: 주변 실거래사례] │ │ │ [Input: 매입/대출/임대] │ │ │
│                    │ │ └─────────────────────┘ │ │ └─────────────────────┘ │ │
│                    │ │ ┌─────────────────────┐ │ │ ┌─────────────────────┐ │ │
│                    │ │ │ [Chart: 시세 추이]    │ │ │ [Result: 수지분석표]   │ │ │
│                    │ │ └─────────────────────┘ │ │ └─────────────────────┘ │ │
│                    │ └─────────────────────────┘ └─────────────────────────┘ │
└────────────────────┴───────────────────────────────────────────────────────┘
```

### 1.2 핵심 컴포넌트 구조
- **DashboardShell:** 전체 레이아웃 및 사이드바(히스토리) 관리.
- **TopMetricsCard:** 큰 폰트와 컬러 강조를 활용한 4대 핵심 지표 카드.
- **InvestmentMap:** 카카오맵 연동, 대상지 마커 및 주변 실거래가 클러스터링 표시.
- **YieldCalculator:** 입력값 변화에 따라 즉시 수익률을 재계산하는 인터랙티브 폼.
- **MarketChart:** 주변 실거래가 데이터를 바탕으로 한 연도별/평단가별 시각화 차트.

## 2. 데이터 흐름 및 API 연동

### 2.1 API 통합 흐름
1.  **Search:** 사용자가 주소 검색 → `sigunguCd`, `bjdongCd`, `coords`(위경도) 확보.
2.  **Building Data:** `api/building-report-v2` 호출 → 건물 기본 스펙 확보.
3.  **Market Data:** `api/market-price` (신규) 호출 → 반경 500m 내 실거래가 데이터 확보.
4.  **Simulation:** 사용자가 매입가 입력 → 프론트엔드 로직으로 즉시 수익률 계산.

### 2.2 외부 서비스 연동
- **Map:** Kakao Maps API (지도 표시, 주소-좌표 변환).
- **Price API:** 국토교통부 실거래가 정보 (매매/전월세 통합).
- **Icons/UI:** Lucide React, Shadcn/UI.

## 3. 구현 세부 전략

### 3.1 스타일링 및 시각화
- **Color Palette:** 
  - 신뢰감 있는 Navy (#1e293b) & 상쾌한 Blue (#2563eb).
  - 리스크 표시용 Red (#dc2626) & 성공 지표용 Green (#16a34a).
- **Typography:** 본문은 Pretendard, 숫자는 Roboto Mono 또는 Inter 적용 (가독성 중점).
- **Charts:** Recharts 라이브러리를 사용해 모던한 느낌의 Area/Bar Chart 구현.

### 3.2 로컬 데이터베이스 (Local DB)
- **LocalStorage/FileSystem:** 검토한 리포트를 브라우저 혹은 서버 측 JSON 파일에 저장.
- **Auto-Save:** 데이터 입력 시마다 실시간으로 현재 상태를 저장하여 리프레시 대응.

## 4. 작업 목록 (Task List)
- [ ] Shadcn/UI 및 Recharts 환경 구축
- [ ] 카카오맵 SDK 연동 및 대상지 마커 표시
- [ ] 주변 실거래가 조회 API 개발
- [ ] 수익성 분석 시뮬레이터 로직 구현
- [ ] 대시보드 레이아웃 (A4 최적화) 스타일링
- [ ] 리포트 히스토리 저장/불러오기 기능
