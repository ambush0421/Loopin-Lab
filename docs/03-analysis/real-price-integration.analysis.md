# Gap Analysis: Real Price Integration (실거래가 데이터 연동)

## 📊 Match Rate: 92%

### 1. 설계 vs 구현 비교
- **데이터 흐름 (95%):** 국토부 API 연동 및 최근 6개월 데이터 루프 조회 로직이 설계대로 구현됨. 서버 사이드에서의 평단가 가공 로직이 정확함.
- **주소-좌표 변환 (90%):** 카카오 REST API를 활용한 서버 사이드 지오코딩이 구현되어 지도 마커 표시가 가능해짐. 상위 10건 제한으로 성능과 비용 효율성 고려됨.
- **UI 반영 (90%):** `MarketChart`에 Recharts를 활용한 시계열 데이터 바인딩 완료. `InvestmentMap`에 실거래 커스텀 마커 표시 완료.

### 2. 발견된 문제점 (Issues)
- **API 응답 속도:** 6개월치를 순차적으로 fetch함에 따라 응답 시간이 다소 김 (약 2~3초).
- **데이터 누락 대응:** 특정 월에 실거래가 없는 경우 차트가 끊기거나 비어 보일 수 있는 현상 존재.
- **환경 변수 의존성:** `KAKAO_REST_API_KEY`가 없는 경우 지오코딩이 생략되어 지도에 실거래 마커가 표시되지 않음.

### 3. 개선 계획 (PDCA Iterate)
- **병렬 요청 (Promise.all):** 월별 데이터 조회를 병렬로 처리하여 전체 응답 속도 개선.
- **데이터 보간:** 거래 데이터가 없는 월에 대해 '0' 또는 직전 데이터로 보정하여 차트 연속성 확보.
- **폴백 지오코딩:** 카카오 키가 없는 경우 서버의 `/api/geocode` (브이월드 등 포함) 로직을 재사용하도록 구조 개선.

---
*Gap Detector Agent: bkit v1.5.0*